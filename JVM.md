





## 二：JVM内存

**2.1 JVM哪些区域是线程私有的，哪些区域是线程共享的？**

1、堆、元空间（方法区）是线程共享的

2、其他区域是线程私有的



**2.2  JVM运行时数据区：程序计数器的特点及作用**

1、程序计数器是一块很小的内存空间，几乎可以忽略

2、是当前线程所执行的字节码的行号指示器

3、Java多线程执行时，每条线程都有一个独立的程序计数器，各条线程之间计数器互不影响

4、该区域是“线程私有”的内存，每个线程独立存储

5、该区域不存在OutOfMemoryError

6、无GC回收



**2.3 JVM运行时数据区：虚拟机栈的特点及作用**

1、线程私有

2、方法执行会创建栈帧，存储局部变量表等信息

3、方法执行入虚拟机栈，方法执行完出虚拟机栈

4、栈深度大于虚拟机所允许的时报错：StackOverflowError

5、栈需扩展而无法申请空间报错：OutOfMemoryError（比较少见）；hotspot虚拟机没有；

6、栈里面运行方法，存放方法的局部变量名，变量名所指向的值(常量值、对象值等)堆存放在堆上的

7、栈一般都不设置大小，栈所占的空间其实很小，可以通过-Xss1M进行设置，如果不设置默认为1M

8、随线程而生，随线程而灭

9、该区域不会有GC回收

